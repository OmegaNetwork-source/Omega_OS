<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Omega Browser</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Unified Top Bar -->
    <div class="top-bar" id="topBar">
        <div class="top-bar-left">
            <button class="ai-button" id="aiButton" title="AI Chat">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M10 2 L12 8 L18 10 L12 12 L10 18 L8 12 L2 10 L8 8 Z"/>
                </svg>
            </button>
            <div class="nav-buttons-compact">
                <button class="nav-btn-compact" id="backBtn" title="Back">
                    <svg width="16" height="16" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 4 L6 10 L12 16"/>
                    </svg>
                </button>
                <button class="nav-btn-compact" id="forwardBtn" title="Forward">
                    <svg width="16" height="16" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M8 4 L14 10 L8 16"/>
                    </svg>
                </button>
                <button class="nav-btn-compact" id="reloadBtn" title="Reload">
                    <svg width="16" height="16" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 10 C3 6 6 3 10 3 C13 3 15.5 5 16.5 8"/>
                        <path d="M17 10 C17 14 14 17 10 17 C7 17 4.5 15 3.5 12"/>
                        <path d="M17 10 L14 7 M3 10 L6 7"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Centered URL Bar -->
        <div class="url-bar-center">
            <input type="text" class="address-bar-compact" id="addressBar" placeholder="Search or enter address" autocomplete="off">
        </div>
        
        <div class="top-bar-right">
            <button class="top-bar-btn" id="walletBtn" title="Omega Wallet">
                <svg width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
                    <rect x="2" y="4" width="16" height="12" rx="2" stroke-linecap="round"/>
                    <path d="M2 8 L20 8" stroke-linecap="round"/>
                    <circle cx="14" cy="12" r="1.5" fill="currentColor"/>
                </svg>
            </button>
            <button class="top-bar-btn" id="homeBtn" title="Home">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9 L9 3 L15 9 M6 9 L6 15 L12 15 L12 9"/>
                </svg>
            </button>
            <button class="top-bar-btn theme-toggle-btn" id="themeToggle" title="Toggle Theme">
                <div class="theme-circle"></div>
            </button>
            <div style="position: relative;">
                <button class="top-bar-btn" id="settingsBtn" title="Settings">
                    <svg width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="10" cy="10" r="2.5"/>
                        <path d="M10 1.5 L10 3.5 M10 16.5 L10 18.5 M18.5 10 L16.5 10 M3.5 10 L1.5 10 M15.89 4.11 L14.47 5.53 M5.53 14.47 L4.11 15.89 M15.89 15.89 L14.47 14.47 M5.53 5.53 L4.11 4.11"/>
                    </svg>
                </button>
                <!-- Settings Dropdown Menu -->
                <div class="settings-dropdown" id="settingsDropdown">
                    <div class="dropdown-section">
                        <div class="dropdown-item" id="historyBtn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="8" cy="8" r="6"/>
                                <path d="M8 4 L8 8 L11 10"/>
                            </svg>
                            <span>History</span>
                            <span class="dropdown-shortcut">Ctrl+H</span>
                        </div>
                        <div class="dropdown-item" id="bookmarksBtn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M8 2 L10 6 L14 7 L11 10 L11.5 14 L8 12 L4.5 14 L5 10 L2 7 L6 6 Z"/>
                            </svg>
                            <span>Bookmarks</span>
                            <span class="dropdown-shortcut">Ctrl+Shift+O</span>
                        </div>
                        <div class="dropdown-item" id="downloadsBtn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M8 2 L8 10 M8 10 L5 7 M8 10 L11 7"/>
                                <path d="M2 12 L2 13 C2 14 3 15 4 15 L12 15 C13 15 14 14 14 13 L14 12" stroke-linecap="round"/>
                            </svg>
                            <span>Downloads</span>
                            <span class="dropdown-shortcut">Ctrl+J</span>
                        </div>
                    </div>
                    
                    <div class="dropdown-divider"></div>
                    
                    <div class="dropdown-section">
                        <div class="dropdown-item" id="zoomControls">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="7" cy="7" r="4"/>
                                <path d="M11 11 L14 14"/>
                            </svg>
                            <span>Zoom</span>
                            <div class="zoom-controls">
                                <button class="zoom-btn" id="zoomOut" title="Zoom Out">‚àí</button>
                                <span class="zoom-level" id="zoomLevel">100%</span>
                                <button class="zoom-btn" id="zoomIn" title="Zoom In">+</button>
                                <button class="zoom-btn" id="zoomReset" title="Reset Zoom">‚åñ</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="dropdown-divider"></div>
                    
                    <div class="dropdown-section">
                        <div class="dropdown-item" id="settingsMenuBtn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.5">
                                <circle cx="8" cy="8" r="2"/>
                                <path d="M8 1 L8 3 M8 13 L8 15 M15 8 L13 8 M3 8 L1 8 M13.07 2.93 L11.66 4.34 M4.34 11.66 L2.93 13.07 M13.07 13.07 L11.66 11.66 M4.34 4.34 L2.93 2.93"/>
                            </svg>
                            <span>Settings</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="window-controls">
                <button class="window-control minimize" id="minimizeBtn" title="Minimize">
                    <svg width="10" height="10" viewBox="0 0 10 10">
                        <path d="M1 5 L9 5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
                    </svg>
                </button>
                <button class="window-control maximize" id="maximizeBtn" title="Maximize">
                    <svg width="10" height="10" viewBox="0 0 10 10">
                        <path d="M2 2 L8 2 L8 8 L2 8 Z" stroke="currentColor" stroke-width="1.2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button class="window-control close" id="closeBtn" title="Close">
                    <svg width="10" height="10" viewBox="0 0 10 10">
                        <path d="M1 1 L9 9 M9 1 L1 9" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Sidebar - Chat -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3>AI Chat</h3>
                <button class="sidebar-toggle" id="sidebarToggle" title="Toggle Sidebar">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10 4 L6 8 L10 12"/>
                    </svg>
                </button>
            </div>
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="welcome-message">
                        <p>Welcome to Omega Browser</p>
                        <p class="subtitle">AI chat coming soon</p>
                    </div>
                </div>
                <div class="chat-input-container">
                    <input type="text" class="chat-input" id="chatInput" placeholder="Message..." disabled>
                    <button class="chat-send" id="chatSend" disabled>
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 3 L8 10 M15 3 L10 15 L8 10 M15 3 L2 8"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Browser Content -->
        <div class="browser-container">
            <!-- Tab Bar -->
            <div class="tab-bar">
                <div class="tabs" id="tabs">
                    <!-- Tabs will be created dynamically here -->
                </div>
                <button class="new-tab-btn" id="newTabBtn" title="New Tab">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M8 3 L8 13 M3 8 L13 8"/>
                    </svg>
                </button>
            </div>

            <!-- Web View Container -->
            <div class="webview-container">
                <!-- Webviews will be created dynamically here -->
            </div>
        </div>
    </div>

    <!-- History Panel -->
    <div class="panel-overlay" id="historyPanel">
        <div class="panel-content">
            <div class="panel-header">
                <h2>History</h2>
                <button class="panel-close" id="historyClose">&times;</button>
            </div>
            <div class="panel-body">
                <div class="panel-controls">
                    <button class="panel-btn" id="clearHistoryBtn">Clear History</button>
                </div>
                <div class="history-list" id="historyList">
                    <!-- History items will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Bookmarks Panel -->
    <div class="panel-overlay" id="bookmarksPanel">
        <div class="panel-content">
            <div class="panel-header">
                <h2>Bookmarks</h2>
                <button class="panel-close" id="bookmarksClose">&times;</button>
            </div>
            <div class="panel-body">
                <div class="panel-controls">
                    <button class="panel-btn" id="addBookmarkBtn">Add Bookmark</button>
                </div>
                <div class="bookmarks-list" id="bookmarksList">
                    <!-- Bookmarks will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Downloads Panel -->
    <div class="panel-overlay" id="downloadsPanel">
        <div class="panel-content">
            <div class="panel-header">
                <h2>Downloads</h2>
                <button class="panel-close" id="downloadsClose">&times;</button>
            </div>
            <div class="panel-body">
                <div class="downloads-list" id="downloadsList">
                    <!-- Downloads will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Panel -->
    <div class="panel-overlay" id="settingsPanel">
        <div class="panel-content">
            <div class="panel-header">
                <h2>Settings</h2>
                <button class="panel-close" id="settingsClose">&times;</button>
            </div>
            <div class="panel-body">
                <div class="settings-section">
                    <h3>Search Engine</h3>
                    <p class="settings-desc">Choose your default search engine (privacy-focused)</p>
                    <div class="settings-options">
                        <label class="settings-option">
                            <input type="radio" name="searchEngine" value="duckduckgo">
                            <div class="settings-option-content">
                                <span class="settings-option-title">DuckDuckGo</span>
                                <span class="settings-option-desc">Privacy-first search engine</span>
                            </div>
                        </label>
                        <label class="settings-option">
                            <input type="radio" name="searchEngine" value="startpage">
                            <div class="settings-option-content">
                                <span class="settings-option-title">Startpage</span>
                                <span class="settings-option-desc">Google results, privately</span>
                            </div>
                        </label>
                        <label class="settings-option">
                            <input type="radio" name="searchEngine" value="searx">
                            <div class="settings-option-content">
                                <span class="settings-option-title">SearX</span>
                                <span class="settings-option-desc">Meta search engine</span>
                            </div>
                        </label>
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Privacy</h3>
                    <label class="settings-checkbox">
                        <input type="checkbox" id="blockTrackers" checked>
                        <span>Block trackers and ads</span>
                    </label>
                    <label class="settings-checkbox">
                        <input type="checkbox" id="clearOnClose">
                        <span>Clear browsing data on close</span>
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Wallet Panel -->
    <div class="panel-overlay" id="walletPanel">
        <div class="panel-content">
            <div class="panel-header">
                <h2>Omega Wallet</h2>
                <button class="panel-close" id="walletClose">&times;</button>
            </div>
            <div class="panel-body">
                <!-- Wallet Not Created/Loaded -->
                <div id="walletSetup" style="display: none;">
                    <div class="wallet-setup-options">
                        <button class="wallet-action-btn" id="createWalletBtn">
                            <div class="wallet-action-icon">‚ú®</div>
                            <div class="wallet-action-content">
                                <div class="wallet-action-title">Create New Wallet</div>
                                <div class="wallet-action-desc">Generate a new Solana wallet</div>
                            </div>
                        </button>
                        <button class="wallet-action-btn" id="importWalletBtn">
                            <div class="wallet-action-icon">üì•</div>
                            <div class="wallet-action-content">
                                <div class="wallet-action-title">Import Wallet</div>
                                <div class="wallet-action-desc">Import from private key</div>
                            </div>
                        </button>
                    </div>
                    
                    <!-- Create Wallet Form -->
                    <div id="createWalletForm" style="display: none; margin-top: 20px;">
                        <div class="wallet-form-group">
                            <label>Password</label>
                            <input type="password" id="createPassword" class="wallet-input" placeholder="Enter password">
                        </div>
                        <div class="wallet-form-group">
                            <label>Confirm Password</label>
                            <input type="password" id="createPasswordConfirm" class="wallet-input" placeholder="Confirm password">
                        </div>
                        <button class="wallet-primary-btn" id="createWalletSubmit">Create Wallet</button>
                        <div id="walletMnemonic" style="display: none; margin-top: 20px; padding: 15px; background: var(--bg-secondary); border-radius: 8px;">
                            <p style="font-weight: 600; margin-bottom: 10px;">‚ö†Ô∏è Save Your Private Key</p>
                            <p style="font-size: 12px; color: var(--text-secondary); margin-bottom: 10px;">This is the only time you'll see this. Save it securely!</p>
                            <textarea id="walletPrivateKey" readonly style="width: 100%; min-height: 80px; padding: 10px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 6px; font-family: monospace; font-size: 12px; color: var(--text-primary);"></textarea>
                            <button class="wallet-primary-btn" id="walletMnemonicConfirm" style="margin-top: 10px;">I've Saved It</button>
                        </div>
                    </div>
                    
                    <!-- Import Wallet Form -->
                    <div id="importWalletForm" style="display: none; margin-top: 20px;">
                        <div class="wallet-form-group">
                            <label>Private Key (Base58)</label>
                            <input type="text" id="importPrivateKey" class="wallet-input" placeholder="Enter private key">
                        </div>
                        <div class="wallet-form-group">
                            <label>Password</label>
                            <input type="password" id="importPassword" class="wallet-input" placeholder="Enter password">
                        </div>
                        <button class="wallet-primary-btn" id="importWalletSubmit">Import Wallet</button>
                    </div>
                </div>
                
                <!-- Wallet Login -->
                <div id="walletLogin" style="display: none;">
                    <div class="wallet-form-group">
                        <label>Password</label>
                        <input type="password" id="loginPassword" class="wallet-input" placeholder="Enter password">
                    </div>
                    <button class="wallet-primary-btn" id="loginWalletBtn">Unlock Wallet</button>
                </div>
                
                <!-- Wallet Dashboard -->
                <div id="walletDashboard" style="display: none;">
                    <div class="wallet-balance-card">
                        <div class="wallet-balance-label">Balance</div>
                        <div class="wallet-balance-amount" id="walletBalance">0.00 SOL</div>
                        <div class="wallet-address" id="walletAddress">Loading...</div>
                    </div>
                    
                    <div class="wallet-actions">
                        <button class="wallet-action-small" id="refreshBalanceBtn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 10 C3 6 6 3 10 3 C13 3 15.5 5 16.5 8"/>
                                <path d="M13 6 C13 10 10 13 6 13 C3 13 0.5 11 -0.5 8"/>
                                <path d="M13 6 L16 3 M13 6 L10 3 M3 10 L0 13 M3 10 L6 13"/>
                            </svg>
                            Refresh
                        </button>
                        <button class="wallet-action-small" id="copyAddressBtn">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="5" y="5" width="8" height="8" rx="1"/>
                                <path d="M3 11 L3 3 L11 3"/>
                            </svg>
                            Copy Address
                        </button>
                    </div>
                    
                    <div class="wallet-section">
                        <h3>Send SOL</h3>
                        <div class="wallet-form-group">
                            <label>Recipient Address</label>
                            <input type="text" id="sendToAddress" class="wallet-input" placeholder="Enter Solana address">
                        </div>
                        <div class="wallet-form-group">
                            <label>Amount (SOL)</label>
                            <input type="number" id="sendAmount" class="wallet-input" placeholder="0.00" step="0.000000001" min="0">
                        </div>
                        <button class="wallet-primary-btn" id="sendSolBtn">Send SOL</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
    <script src="solana-provider.js"></script>
</body>
</html>

